#ifndef CONFIG_H
#define CONFIG_H

// portability mapper


// POSIX inclusion
#include <sys/types.h>
#include <sys/stat.h>
#include <unistd.h>
#include <pthread.h>
//
#include <string.h>
#include <limits.h>
//
#include <errno.h>

//has malloc
#cmakedefine HAVE_MALLOC_H 1
#ifdef HAVE_MALLOC_H
#include <malloc.h>
#endif

// has locale
#cmakedefine HAVE_LOCALE_H 1

// has strptime
#cmakedefine HAVE_STRPTIME_H 1
#ifndef HAVE_STRPTIME_H
#	define strptime __strptime
#endif

// has mempcpy
#cmakedefine HAVE_MEMPCPY_H 1
#include <mempcpy/mempcpy.h>


// has strlcpy
#cmakedefine HAVE_STRLCPY_H 1
#include <strlcpy/strlcpy.h>


// readdir max name size
#ifndef NAME_MAX
#define NAME_MAX 256
#endif

// default export 
#undef DAVIX_EXPORT
#define DAVIX_EXPORT

//
// Win 32 mapper
#if( defined _WIN32 )|| ( defined __MINGW32__ )
// macros

#define __PLATFORM_WINDOWS__

// stat struct def
typedef short nlink_t;
typedef short gid_t;
typedef short uid_t;

#undef DAVIX_EXPORT
#if defined(libdavix_EXPORTS)
#define  DAVIX_EXPORT __declspec(dllexport)
#else
#define  DAVIX_EXPORT __declspec(dllimport)
#endif /* libdavix_EXPORTS */

// windows headers
#include <Windows.h>
#include <Winnls.h>
#endif /* end of win32*/



#endif // CONFIG_H
